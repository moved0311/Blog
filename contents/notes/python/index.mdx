---
title: Python
category: note
date: 2024-09-29
---

## a-z
```py
ascii_lowercase #"abcdefghijklmnopqrstuvwxyz"
```

```py
ord('a') # 97
ord('b') # 98

chr(97) # a
chr(98) # b
```

```py
"str123".isalnum() # check a-z, 0-9
```

## Bit
```py
(5).bit_length() # 3
(8).bit_length() # 4
```

```py
(5).bit_count() # 2
(8).bit_count() # 1
```

* lowbit
找到最右邊的1
```py
x & -x

#  x = 101110
# -x = 010010 (2's complement)
# -----------
       000010
```

* 將最右邊的0改為1
```py
x & (x + 1)

# 1011
# 1100
# ----
# 1111
```

## Sort
```py
list.sort()
list.sort(reverse=True)
```

```py
t = [('a', 5), ('e', 1),('c', 3), ('b', 2)]
t.sort(key=lambda c: c[1])
for i in t:
	print(i)
# ('e', 1)
# ('b', 2)
# ('c', 3)
# ('a', 5)
```

```py
def cmp(a, b):
	return a.bit_length() - b.bit_length()

nums.sort(key=cmp_to_key(cmp))
```

## Collections
### Queue

```py
q = deque([1,2,3])
q.append(4) #　deque([1, 2, 3, 4])
v = q.popleft() # v = 1, q = deque([2, 3, 4])
```

### Dict
```py
graph = defaultdict(list) # key不存在時用空list作為預設值
edges = [[1, 2], [0, 2], [0, 1], [3, 4]]
for [n1, n2] in edges:
	graph[n1].append(n2)

# defaultdict(<class 'list'>, {1: [2], 0: [2, 1], 3: [4]})
```

### Counter
```py
cnt = Counter()
s = "aaabbcc"

for c in s:
	cnt[c] += 1

# Counter({'a': 3, 'b': 2, 'c': 2})

for k, v in cnt.items():
	print(k, v)

# a 3
# b 2
# c 2
```

```py
s = "aaaabbb"
s.count('a') # 4
```

```py
nums = [1,1,2,2,3,4,2,3]
cnt = Counter(nums)
cnt.most_common() # [(2, 3), (1, 2), (3, 2), (4, 1)]
```

### Heap
```py
# Max Heap

class MaxHeap:
  def __init__(self):
    self.data = []
  def top(self):
    return -self.data[0]
  def push(self, val):
    heapq.heappush(self.data, -val)
  def pop(self):
    return -heapq.heappop(self.data)
```

## Math
```py
a = [1, 2, 3, 4, 5]
list(accumulate(a)) # [1, 3, 6, 10, 15]
```

```py
nums = [3,2,1,5]

numsOr = reduce(ior, nums) # 7
```